##### 

diag(1,2,4) # diagonal de 1 em uma matrix 2 X 4
#     [,1] [,2] [,3] [,4]
#[1,]    1    0    0    0
#[2,]    0    1    0    0

diag(3,9,9) # diagonal de 3 em uma matrix 9 X 9
 #     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9]
 #[1,]    3    0    0    0    0    0    0    0    0
 #[2,]    0    3    0    0    0    0    0    0    0
 #[3,]    0    0    3    0    0    0    0    0    0
 #[4,]    0    0    0    3    0    0    0    0    0
 #[5,]    0    0    0    0    3    0    0    0    0
 #[6,]    0    0    0    0    0    3    0    0    0
 #[7,]    0    0    0    0    0    0    3    0    0
 #[8,]    0    0    0    0    0    0    0    3    0
 #[9,]    0    0    0    0    0    0    0    0    3

diag(2,4,5)
#     [,1] [,2] [,3] [,4] [,5]
#[1,]    2    0    0    0    0
#[2,]    0    2    0    0    0
#[3,]    0    0    2    0    0
#[4,]    0    0    0    2    0

############# Construindo matrizes cbind, rbind e diag

a <- matrix(1:9, 3 , 3) 
a
#     [,1] [,2] [,3]
#[1,]    1    4    7
#[2,]    2    5    8
#[3,]    3    6    9

b <- matrix(seq(2, 12, 2), ncol = 2)
b
#     [,1] [,2]
#[1,]    2    8
#[2,]    4   10
#[3,]    6   12

junta_a_b = cbind(a, b) # combina as matrizes pelas Colunas
junta_a_b

#     [,1] [,2] [,3] [,4] [,5]
#[1,]    1    4    7    2    8
#[2,]    2    5    8    4   10
#[3,]    3    6    9    6   12

linhas_a_b = rbind(a, t(b)) # combina as matrizes pelas Linhas| Rows
linhas_a_b
#     [,1] [,2] [,3]
#[1,]    1    4    7
#[2,]    2    5    8
#[3,]    3    6    9
#[4,]    2    4    6
#[5,]    8   10   12

x = cbind(c(1,2), c(5, 7))
x
#     [,1] [,2]
#[1,]    1    5
#[2,]    2    7

y = rbind(c(1, 2), c(5, 7))
y
#     [,1] [,2]
#[1,]    1    2
#[2,]    5    7


diag(1, 2) # ou diag(2)
#     [,1] [,2]
#[1,]    1    0
#[2,]    0    1

diag(3, 4, 4)
#     [,1] [,2] [,3] [,4]
#[1,]    3    0    0    0
#[2,]    0    3    0    0
#[3,]    0    0    3    0
#[4,]    0    0    0    3


diag(1, 2, 3) # diagonal com 1, m matrix 2x3
#     [,1] [,2] [,3]
#[1,]    1    0    0
#[2,]    0    1    0

a <- matrix(1:9, 3 , 3) # ou a <- matrix(seq(1, 9), nrow = 3)
a
#     [,1] [,2] [,3]
#[1,]    1    4    7
#[2,]    2    5    8
#[3,]    3    6    9

diag(a) # [1] 1 5 9


################ Verificar se comutam

z = matrix(sample(10, 4), 2)
w = matrix(sample(10, 4), 2)

z
#     [,1] [,2]
#[1,]    9    7
#[2,]    1    6

w
#     [,1] [,2]
#[1,]    5    8
#[2,]    3    6

length(which(z%*%w == w%*%z) == TRUE) # [1] 0


s <- cbind(c(2,0), c(0,3))
s
#     [,1] [,2]
#[1,]    2    0
#[2,]    0    3

t <- diag(2)
t
#     [,1] [,2]
#[1,]    1    0
#[2,]    0    1

length(which(s %*% t == t %*% s) == TRUE)
# [1] 4

############## Calclando os totais marginais pÃ¡g 15